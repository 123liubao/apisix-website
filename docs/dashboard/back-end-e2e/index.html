<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.fd17476c3">
<meta name="robots" content="noindex, nofollow">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Apache APISIX™ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Apache APISIX™ Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WQLBQL6GY3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-WQLBQL6GY3",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Apache APISIX™" href="/opensearch.xml">
<link rel="alternate" type="application/rss+xml" href="/events/rss.xml" title="Apache APISIX™ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/events/atom.xml" title="Apache APISIX™ Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"><title data-react-helmet="true">Backend E2E | Apache APISIX™</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-docs-apisix-dashboard-current"><meta data-react-helmet="true" property="og:title" content="Backend E2E | Apache APISIX™"><meta data-react-helmet="true" name="description" content="&lt;!--"><meta data-react-helmet="true" property="og:description" content="&lt;!--"><meta data-react-helmet="true" property="og:url" content="https://apisix.apache.org//docs/dashboard/back-end-e2e"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org//docs/dashboard/back-end-e2e" hreflang="x-default"><link data-react-helmet="true" rel="alternate" href="https://apisix.apache.org//zh/docs/dashboard/back-end-e2e" hreflang="zh"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://apisix.apache.org//docs/dashboard/back-end-e2e"><link rel="stylesheet" href="/assets/css/styles.6a71f002.css">
<link rel="preload" href="/assets/js/styles.5448b07f.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.bb2af9b5.js" as="script">
<link rel="preload" href="/assets/js/main.e3300b78.js" as="script">
<link rel="preload" href="/assets/js/1.6d70a9ae.js" as="script">
<link rel="preload" href="/assets/js/2.2c09db00.js" as="script">
<link rel="preload" href="/assets/js/1be78505.592eb130.js" as="script">
<link rel="preload" href="/assets/js/f243156b.ab677d77.js" as="script">
<link rel="preload" href="/assets/js/17896441.c7f6dc3d.js" as="script">
<link rel="preload" href="/assets/js/34ad0e65.2acb2de0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_1oUP">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX™" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX™" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Apache APISIX™</strong></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/general/security">General</a></li><li><a class="dropdown__link" href="/docs/apisix/architecture-design">APISIX™️</a></li><li><a class="dropdown__link" href="/docs/dashboard/USER_GUIDE">APISIX™️ Dashboard</a></li><li><a href="https://apisix.apache.org/docs/ingress-controller/design/" target="_blank" rel="noopener noreferrer" class="dropdown__link">APISIX™️ Ingress Controller</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/events">Events</a><a class="navbar__item navbar__link" href="/downloads">Downloads</a><a class="navbar__item navbar__link" href="/team">Team</a><a class="navbar__item navbar__link" href="/help">Help</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/docs/dashboard/back-end-e2e" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh/docs/dashboard/back-end-e2e" target="_self" rel="noopener noreferrer" class="dropdown__link">简体中文</a></li></ul></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo2.svg" alt="Apache APISIX™" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo2.svg" alt="Apache APISIX™" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Apache APISIX™</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" role="button" href="/docs">Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/general/security">General</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/apisix/architecture-design">APISIX™️</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dashboard/USER_GUIDE">APISIX™️ Dashboard</a></li><li class="menu__list-item"><a href="https://apisix.apache.org/docs/ingress-controller/design/" target="_blank" rel="noopener noreferrer" class="menu__link">APISIX™️ Ingress Controller</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/events">Events</a></li><li class="menu__list-item"><a class="menu__link" href="/downloads">Downloads</a></li><li class="menu__list-item"><a class="menu__link" href="/team">Team</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/dashboard/back-end-e2e" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">English</a></li><li class="menu__list-item"><a href="/zh/docs/dashboard/back-end-e2e" target="_self" rel="noopener noreferrer" class="menu__link">简体中文</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3AUJ"><div class="docSidebarContainer_2LAn" role="complementary"><div class="sidebar_3jCp"><div class="sidebarVersionSwitch_m-Df">Version: <a class="navbar__item navbar__link" href="/docs/dashboard/USER_GUIDE">Next</a></div><div class="menu menu--responsive thin-scrollbar menu_1DcY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_wchL" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/USER_GUIDE">User Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/IMPORT_OPENAPI_USER_GUIDE">Import OpenAPI Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/api/api">API doc of Manager API.</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/deploy">Deploy with Source Codes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/deploy-with-docker">Deploy with Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dashboard/deploy-with-rpm">Deploy with RPM</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dashboard/develop">Development Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dashboard/I18N_USER_GUIDE">i18n User Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dashboard/front-end-e2e">Frontend E2E</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/dashboard/back-end-e2e">Backend E2E</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/dashboard/FAQ">FAQ</a></li></ul></div></div></div><main class="docMainContainer_2AUC"><div class="container padding-vert--lg docItemWrapper_1WZa"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Backend E2E</h1></header><div class="markdown"><p>This document describes how to use E2E test locally.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-with-source-code"></a>Start with source code<a class="hash-link" href="#start-with-source-code" title="Direct link to heading">#</a></h2><ol><li><p>To run back end E2E test, please start the <code>manager-api</code>, <code>apisix</code>, <code>etcd</code> and <code>upstream-node</code> at first.</p></li><li><p>To start the <code>manager-api</code> project locally, please refer to <a href="/docs/dashboard/develop">develop</a> web section.</p></li><li><p>To start the etcd locally, please refer to <a href="https://github.com/apache/apisix/blob/master/docs/en/latest/install-dependencies.md" target="_blank" rel="noopener noreferrer">etcd start</a> web section.</p></li><li><p>To start the <code>apisix</code> project locally, please refer to <a href="https://github.com/apache/apisix#get-started" target="_blank" rel="noopener noreferrer">apisix start</a> web section.</p></li><li><p>To start the <code>upstream-node</code> locally, please install docker in the local environment and execute the command.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> docker run -d --name upstream -v /(Your apisix-dashboard folder path)/api/test/docker/upstream.conf:/etc/nginx/conf.d/default.conf:ro -p 80:80 -p 1980:1980 -p 1981:1981 -p 1982:1982 -p 1983:1983 -p 1984:1984 johz/upstream:v2.0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>After all the services are started, you can start the back-end E2E test.</p></li><li><p>The <code>upstream-node</code> IP is temporarily changed to the local IP address. After the test, it should be changed to GitHub upstream node IP. If the test case does not involve the upstream node, it does not need to be modified.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> # Local E2E test create route example</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;uris&quot;: [&quot;/test-test&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;name&quot;: &quot;route_all&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;desc&quot;: &quot;test&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;methods&quot;: [&quot;GET&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;hosts&quot;: [&quot;test.com&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;status&quot;: 1,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;upstream&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;nodes&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             # upstream node IP is required for local test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;(local ip):1981&quot;: 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;type&quot;: &quot;roundrobin&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  # GitHub E2E test create route example</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;uris&quot;: [&quot;/test-test&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;name&quot;: &quot;route_all&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;desc&quot;: &quot;test&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;methods&quot;: [&quot;GET&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;hosts&quot;: [&quot;test.com&quot;],</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;status&quot;: 1,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     &quot;upstream&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;nodes&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;172.16.238.20:1981&quot;: 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         &quot;type&quot;: &quot;roundrobin&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-with-docker-compose"></a>Start with docker-compose<a class="hash-link" href="#start-with-docker-compose" title="Direct link to heading">#</a></h2><ol><li><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">install docker-compose</a></li></ol><p><strong>NOTE:</strong> In order to run docker compose locally, please change the values of <code>listen.host</code> and <code>etcd.endpoints</code> within <code>./api/conf/conf.yaml</code> as follows:</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">listen:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   host: 0.0.0.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   port: 9000</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">etcd:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   endpoints:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     - 172.16.238.10:2379</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     - 172.16.238.11:2379</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     - 172.16.238.12:2379</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ol start="2"><li><p>Use <code>docker-compose</code> to run services such as <code>manager-api</code>, <code>apisix</code>, <code>etcd</code> and <code>upstream-node</code>, run the command.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /(Your apisix-dashboard folder path)/api/test/docker</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>When you use <code>docker-compose</code> to run the local E2E test and need to update the main code, you need to execute the command to close the cluster.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /(Your apisix-dashboard folder path)/api/test/docker</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># -v: Remove links to mount volumes and volumes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose  down -v</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># If you don&#x27;t want to remove the link between mount volume and volume, you can use</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker-compose stop [serviceName]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Then you need to delete the image of the <code>manage-api</code>, rebuild the image of the <code>manage-api</code>, and start the cluster after the image is successfully built.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-test"></a>Start test<a class="hash-link" href="#start-test" title="Direct link to heading">#</a></h2><ol><li>After all the services are started, you can start the back-end E2E test.</li></ol><p><strong>NOTE:</strong> Sometimes we need to delete the etcd store info. Otherwise, it will make the test failed.</p><ol start="2"><li><p>Enter the E2E folder and execute the command to test all E2E test files.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> cd /(Your apisix-dashboard folder path)/api/test/e2e</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> go test -v</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>You can also do E2E test on a single file.</p><div class="mdxCodeBlock_3lFL"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> cd /(Your apisix-dashboard folder path)/api/test/e2e</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> go test -v E2E-test-file.go base.go</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dashboard/front-end-e2e"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Frontend E2E</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dashboard/FAQ"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">FAQ »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#start-with-source-code" class="table-of-contents__link">Start with source code</a></li><li><a href="#start-with-docker-compose" class="table-of-contents__link">Start with docker-compose</a></li><li><a href="#start-test" class="table-of-contents__link">Start test</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">ASF</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foundation</a></li><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License</a></li><li class="footer__item"><a href="https://www.apache.org/events/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship</a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/apache/apisix/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Issue Tracker</a></li><li class="footer__item"><a href="https://apisix.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/ApacheAPISIX" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://apisix.apache.org/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/asf_logo_wide_small.png" alt="Apache Software Foundation" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright © 2019-2021 The Apache Software Foundation. Apache APISIX, APISIX™, Apache, the Apache feather logo, and the Apache APISIX project logo are either registered trademarks or trademarks of the Apache Software Foundation.</div></div></div></footer></div>
<script src="/assets/js/styles.5448b07f.js"></script>
<script src="/assets/js/runtime~main.bb2af9b5.js"></script>
<script src="/assets/js/main.e3300b78.js"></script>
<script src="/assets/js/1.6d70a9ae.js"></script>
<script src="/assets/js/2.2c09db00.js"></script>
<script src="/assets/js/1be78505.592eb130.js"></script>
<script src="/assets/js/f243156b.ab677d77.js"></script>
<script src="/assets/js/17896441.c7f6dc3d.js"></script>
<script src="/assets/js/34ad0e65.2acb2de0.js"></script>
</body>
</html>